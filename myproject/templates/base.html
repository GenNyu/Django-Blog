{% load static %}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}My Site{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'core/style.css' %}">
</head>
<body>
  <div class="page">
    <header class="site-header">
      <div class="shell header-inner">
        <a class="brand" href="{% url 'home' %}">
          <span class="logo">UB</span>
          <span class="brand-text">
            <span class="brand-title">UrBox Blog</span>
            <span class="brand-sub">Ghi lại ý tưởng mỗi ngày</span>
          </span>
        </a>

        <nav class="site-nav">
          <a class="nav-link" href="{% url 'home' %}">Trang chủ</a>
          <a class="nav-link nav-cta" href="{% url 'create_post' %}">Tạo bài</a>
          {% if user.is_authenticated %}
            <a class="nav-link" href="{% url 'my_posts' %}">Bài viết của tôi</a>
          {% endif %}
        </nav>

        <div class="auth-block">
          {% if user.is_authenticated %}
            <span class="greeting">Xin chào, {{ user.username }}!</span>
            <form action="{% url 'logout' %}" method="post" class="logout-form">
              {% csrf_token %}
              <button type="submit" class="btn ghost">Logout</button>
            </form>
          {% else %}
            <a class="btn ghost" href="{% url 'login' %}">Đăng nhập</a>
          {% endif %}
        </div>
      </div>
    </header>

    <main class="shell main-content">
      {% if messages %}
        <div class="messages">
          {% for message in messages %}
            <div class="message {{ message.tags }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}

      {% block content %}
      {% endblock %}
    </main>

    <footer class="site-footer">
      <div class="shell footer-inner">
        <span>UrBox Blog</span>
        <span class="muted">Xây dựng với Django</span>
      </div>
    </footer>
  </div>
</body>
</html>

